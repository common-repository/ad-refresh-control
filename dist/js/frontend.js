(()=>{"use strict";const{googletag:e}=window,t=window.AdRefreshControl.advertiserIds||[],i=window.AdRefreshControl.viewabilityThreshold||70,o=window.AdRefreshControl.lineItemIds||[],n=window.AdRefreshControl.sizesToExclude||[],d=window.AdRefreshControl.slotIdsToExclude||[],s=1e3*(window.AdRefreshControl.refreshInterval||30),l=window.AdRefreshControl.maximumRefreshes||10,r=window.AdRefreshControl.refreshCallback||!1;let w=!0;const u=[],c=()=>{const t=[];if(w){for(const e in u)if(u.hasOwnProperty(e)){if(!u[e].canRefresh||!u[e].viewable||u[e].viewability<i)continue;u[e].timeViewable+=500,u[e].timeViewable>=s&&(t.push(u[e].slotObject),u[e].timeViewable=0)}0<t.length&&(r&&"function"==typeof window[r]?window[r](t):e.pubads().refresh(t)),setTimeout(c,500)}else setTimeout(c,500)},a=e=>{const t=e.slot.getSlotElementId();t&&(void 0===u[t]&&v(e),u[t].viewable=!0)},f=e=>{let{inViewPercentage:t}=e;void 0===e.inViewPercentage&&(t=100);const i=e.slot.getSlotElementId();void 0===u[i]&&v(e),u[i].viewability=t},m=e=>{const t=e.slot.getSlotElementId();t&&(void 0===u[t]?v(e):(u[t].renderCount+=1,u[t].timeViewable=0,u[t].viewable=!1,u[t].canRefresh=h(e)))},v=e=>{const{slot:t}=e,i=t.getSlotElementId();i&&void 0===u[i]&&(u[i]={},u[i].viewable=!0,u[i].renderCount=1,u[i].timeViewable=0,u[i].canRefresh=h(e),u[i].slotObject=t,u[i].viewability=0)},h=e=>{const{slot:i}=e,s=i.getResponseInformation();if(!s)return!1;let r="size"in e&&e.size.toString();if(void 0!==t[s.advertiserId])return!1;if(void 0!==o[s.lineItemId])return!1;const w=i.getSizes();if("0,0"===r&&w.includes("fluid")&&(r="fluid"),n.includes(r))return!1;const c=i.getSlotElementId();return void 0===d[c]&&!(void 0!==u[c]&&u[c].renderCount>=l)},b=()=>{let t=0;if(e&&e.apiReady)e.pubads().addEventListener("impressionViewable",a),e.pubads().addEventListener("slotVisibilityChanged",f),e.pubads().addEventListener("slotRenderEnded",m),(()=>{function e(){w=!0}function t(){w=!1}void 0!==document.hidden?(w=!document.hidden,document.addEventListener("visibilitychange",(function(){w=!document.hidden}))):void 0!==document.onfocusin?(document.onfocusin=e,document.onfocusout=t):(window.onfocus=e,window.onblur=t)})(),setTimeout(c,500);else{const e=window.setTimeout((()=>{t<=30&&(t++,b()),window.clearTimeout(e)}),100)}};b()})();